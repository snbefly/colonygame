<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="../font/comfortaa.css">
    <link rel="stylesheet" href="../style.css">

    <title >Legacy: Wikima</title>
  </head>
  <body onload="onPageLoad();">
    <style>
      body{
        background-color: rgb(199, 211, 221);
      }
    </style>
    <!-- Navbar Start-->
    <nav class="navbar navbar-expand navbar-dark navbar-style sticky-top shadow">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item active">
            <a class="nav-link" href="../index.html">Home</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="wikima.html">Wikima</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../stats.html">Statblocks</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../help.html">Help</a>
          </li>
        </ul>
    </nav>
    <!-- Navbar End-->
    <div class="wiki-logl-wraper">
      <img src="wikima.svg" class="wikima-logo">
      <div style="">
        <h1>Welcome to Wikima</h1>
        <h5>Optima's only reliable source</h5>
      </div>
    </div>

    <div class="wiki-wraper flex-rack-wiki">
      <div class="wiki-menu wiki-menu-links">
        <h3>Articles</h3>
        <h5>Locations</h5>
        <ul>
          <li><a href="#wiki-content" onclick="newSrc('locations/wiki_optima.html')">Optima</a></li>
          <li><a href="#wiki-content" onclick="newSrc('locations/wiki_transtar.html')">Transtar</a></li>
          <li><a href="#wiki-content" onclick="newSrc('locations/wiki_domes.html')">Domes</a></li>
          <li><a href="#wiki-content" onclick="newSrc('locations/wiki_facility.html')">Drilling Facility</a></li>
          <li><a class="link-grey" href="#">Point of Contact</a></li>
          <li><a class="link-grey" href="#">Heart of the Jungle</a></li>
          <li><a href="#wiki-content" onclick="newSrc('locations/wiki_locations.html')">Other notable locations</a></li>
        </ul>
        <hr>
        <h5>Factions</h5>
        <ul>
          <li><a class="link-grey" href="#">Transtar</a></li>
          <li><a class="link-grey" href="#">Ecologists</a></li>
          <li><a class="link-grey" href="#">Scum</a></li>
          <li><a class="link-grey" href="#">Sacred</a></li>
          <li><a class="link-grey" href="#">Floran Tribes</a></li>
        </ul>
        <hr>
        <h5>Events</h5>
        <ul>
          <li><a class="link-grey" href="#">First Contact</a></li>
          <li><a class="link-grey" href="#">Facility Riots</a></li>
          <li><a class="link-grey" href="#">The Revival</a></li>
          <li><a class="link-grey" href="#">Floran Breakout</a></li>
        </ul>
        <hr>
        <h5>Characters</h5>
        <ul>
          <li><a href="#wiki-content" onclick="newSrc('characters/wiki_template.html')"><i>Template</i></a></li>
          <li><a href="#" onclick="newSrc('characters/wiki_char_fom.html')">Fom</a></li>
          <li><a href="#" onclick="newSrc('characters/wiki_char_urist.html')">Urist</a></li>
          <li><a href="#" onclick="newSrc('characters/wiki_char_hist.html')">Anarchist</a></li>
          <li><a class="link-grey" href="#">Supervisor</a></li>
          <li><a class="link-grey" href="#">Nula</a></li>
          <li><a class="link-grey" href="#">The Keeper</a></li>
          <li><a class="link-grey" href="#">Sakram</a></li>
          <li><a class="link-grey" href="#">Nemesida</a></li>
          <li><a class="link-grey" href="#">Viktor</a></li>
          <li><a href="#" onclick="newSrc('characters/wiki_char_indermaur.html')">Ms. Indermaur</a></li>
          <li><a href="#" onclick="newSrc('characters/wiki_char_major.html')">Major</a></li>
        </ul>
        <hr>
        <h5>Other</h5>
        <ul>
          <li><a href="#wiki-content" onclick="newSrc('other/wiki_races.html')">Races</a></li>
          <li><a href="#wiki-content" onclick="newSrc('other/wiki_artifacts.html')">Artifact atlas</a></li>
          <li><a class="link-grey" href="#">Transtar catalogue</a></li>
        </ul>
        <hr>
        <h5>Legacy help</h5>
        <ul>
          <li><a href="#wiki-content" onclick="newSrc('other/wiki_connections.html')">Connection statements</a></li>
          <li><a class="link-grey" href="#">Turn</a></li>
          <li><a class="link-grey" href="#">Resources</a></li>
          <li><a class="link-grey" href="#">Wonders</a></li>
        </ul>
        <h5><a href="../stats.html">Statblocks</a></h5>
      </div>

      <div class="wiki-ifrcontainer" id="wiki-content">
        <iframe id="myIframe" scrolling="no" src="locations/wiki_optima.html" class="wikima-iframe"></iframe>
      </div>

    </div>

    <script>

      // Selecting the iframe element
      var iframe = document.getElementById("myIframe");

      //seting the source for the iframe

      function getSearchVar() {
          let queryDict = {};
          let params = window.location.search;
          console.log("init: "+params);
          console.log("1: "+params.substring(1));
          console.log("2: "+params.substring(1).split('='));
          params = params.substring(1).split('=')[1];

          return params;
      }

      function onPageLoad(){
        console.log(window.location);
          loadSrc(getSearchVar());
      }

      function newSrc(url) {
        setIframe(url)
        saveSrc(url)
      }

      function setIframe(url){
        document.getElementById("myIframe").src=url;
      }
      
      function saveSrc(src) {
          window.location.search = "?artName="+src;
      }

      function loadSrc(query) {
        if(query != null){
          setIframe(query);
        }
      }

      // Adjusting the iframe height onload event
      iframe.onload = function(){
          iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
      }
      window.onresize = function(){
          iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
      }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" 
    crossorigin="anonymous"></script>
  </body>
</html>